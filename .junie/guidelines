# AI Coding Guidelines

## 1. TypeScript and Code Structure

### 1.1 Return Types
- TypeScript type inference **MUST** be preferred for function and component return types.
- Explicit return type annotations **MUST NOT** be added unless strictly necessary (e.g., when inference fails or produces incorrect results).
- JSDoc `@returns` annotations **MUST NOT** be used when the return type is trivially inferrable by TypeScript.

### 1.2 Exports
- Only **named exports** **MUST** be used.
- Default exports **MUST NOT** be used in general.
- Exception: Next.js pages, layouts, and other special files that **REQUIRE** default exports **MUST** still use arrow functions for the component definition before exporting.
  - Example: `const Page = () => <div />; export default Page;`

### 1.3 Functions and Components
- All functions and React components **MUST** be defined using arrow function syntax.
- Function declarations (`function foo() {}`) **MUST NOT** be used.
- Arrow functions that only contain a single `return` statement **MUST** use the concise body syntax (omitting the `return` keyword and the braces).
  - Example: `const Foo = () => <div />;` instead of `const Foo = () => { return <div />; };`

### 1.4 React Usage
- The `React` module **MUST NOT** be imported explicitly (e.g., `import React from 'react'`).
- The automatic JSX runtime and global `React` type namespace **MUST** be assumed.

### 1.5 React.FC Usage
- `React.FC` or `React.FunctionComponent` **MUST NOT** be used for typing components.
- Props **MUST** be typed directly in the arrow function parameters.
- Example: `const Foo = ({ bar }: FooProps) => <div />`

### 1.6 Comments
- Non-essential comments **MUST NOT** be added.
- Placeholder, explanatory, or mock-related comments that do not affect runtime behavior **MUST** be avoided.

### 1.7 Project Structure and Imports
- Next.js Route Groups **MUST** be used for organization where appropriate (e.g., `(marketing)`).
- Utility functions and helpers **MUST** be placed in the `lib/` directory.
- UI components **MUST** be colocated with their respective features or placed in `components/` or `layout/` as appropriate.
- Tests **MUST** be colocated with the file they test.

---

## 2. Styling Rules

### 2.1 Primary Styling
- Tailwind CSS **MUST** be used as the primary styling solution.

### 2.2 Global CSS
- Global CSS usage **MUST** be minimized.
- `globals.css` **MUST** be limited to root-level, application-wide styles only.
- Global utility or component-level CSS classes **MUST NOT** be introduced outside of Tailwind CSS.

---

## 3. Tooling and Runtime

### 3.1 Package Management
- `npm` **MUST** be used as the package manager.

### 3.2 Development Server
- The development server **MUST** be started using `npm run dev`.

---

## 4. Testing Conventions

### 4.1 File Placement
- Test files **MUST** be colocated with the file under test.
- Naming convention **MUST** follow:
  - `Component.tsx`
  - `Component.test.tsx`

### 4.2 Testing Framework
- React Testing Library **MUST** be used for component testing.
- Vitest **MUST** be used with global test APIs.

### 4.3 Test Syntax
- Tests **MUST** be structured using `describe` and `it` blocks.
- `describe`, `it`, `expect`, and `vi` **MUST NOT** be imported explicitly.

### 4.4 Test Style
- Functional and unit-level tests **SHOULD** be preferred.
- Usage of the `any` type **MAY** be used in test files (`*.test.ts`, `*.test.tsx`) when required for mocking or simplified setup.

### 4.5 Import Order
- Test files **MUST** follow this strict order:
  1. All imports at the top of the file
  2. Mock definitions immediately after imports
  3. No code or comments between imports and mocks

### 4.6 Running Tests
- Tests **MUST** be run checking coverage using `npm run test`.

---

## 5. Verification Checklist
Before submitting, ensure:
1. [ ] No explicit `import React from 'react'`
2. [ ] No explicit `import { describe, it, expect, vi } from 'vitest'`
3. [ ] No `React.FC` or `React.FunctionComponent` usage
4. [ ] All functions and components use arrow function syntax
5. [ ] No default exports (except where required by Next.js)
6. [ ] `npm run test` passes with no regressions
7. [ ] `npm run build` passes successfully
